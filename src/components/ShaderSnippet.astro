---
import Snippet, { type Props as SnippetProps } from './Snippet.astro'
import Shader from './Shader.astro'

import Preview from './Preview.astro'

interface Props extends Omit<SnippetProps, 'base' | 'lang' | 'path'> {
  /**
   * Path from the `src/snippets/shaders` directory (probably just the file name)
   */
  path: string
}

const { path, ...rest } = Astro.props
---

<Preview>
  <Snippet {...rest} base="./src/snippets/shaders" path={path} lang="glsl" />
  <Shader slot="preview" fragmentPath={path} />
</Preview>
